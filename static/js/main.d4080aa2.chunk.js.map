{"version":3,"sources":["Autocomplete.jsx","App.jsx","index.js"],"names":["Autocomplete","props","containerRef","useRef","useEffect","current","search","autocomplete","Object","objectSpread","container","renderer","createElement","Fragment","render","destroy","react_default","a","ref","searchClient","algoliasearch","VirtualSearchBox","connectSearchBox","createURL","searchState","qs","stringify","addQueryPrefix","Hit","className","src","hit","image","align","alt","name","href","url","Highlight","attribute","price","free_shipping","brand","categories","join","App","_useState","useState","_useState2","slicedToArray","checkAutocomplete","setCheckAutocomplete","_React$useState","React","_ref2","parse","slice","urlToSearchState","window","location","_React$useState2","setSearchState","timerRef","clearTimeout","setTimeout","history","pushState","_ref","keys","length","concat","pathname","searchStateToUrl","onSubmit","useCallback","_ref3","state","query","onReset","plugins","useMemo","recentSearchesPlugin","createLocalStorageRecentSearchesPlugin","key","limit","transformSource","_ref4","source","onSelect","_ref5","item","label","querySuggestionsPlugin","createQuerySuggestionsPlugin","indexName","getSearchParams","data","getAlgoliaSearchParams","hitsPerPage","_ref6","_ref7","border","InstantSearch","onSearchStateChange","Configure","ClearRefinements","Menu","showMore","showMoreLimit","NumericMenu","items","end","start","ToggleRefinement","value","RatingMenu","RefinementList","placeholder","detachedMediaQuery","initialState","openOnFocus","SearchBox","searchAsYouType","translations","class","onClick","prevCheck","type","Stats","InfiniteHits","hitComponent","PoweredBy","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.d4080aa2.chunk.js","sourcesContent":["import { autocomplete } from '@algolia/autocomplete-js';\nimport React, { createElement, Fragment, useEffect, useRef } from 'react';\nimport { render } from 'react-dom';\n\nexport function Autocomplete(props) {\n  const containerRef = useRef(null);\n\n  useEffect(() => {\n    if (!containerRef.current) {\n      return undefined;\n    }\n\n    const search = autocomplete({\n      container: containerRef.current,\n      renderer: { createElement, Fragment, render },\n      ...props,\n    });\n\n    return () => {\n      search.destroy();\n    };\n  }, [props]);\n\n  return <div ref={containerRef} />;\n}\n","import React, { useState } from \"react\";\nimport algoliasearch from 'algoliasearch/lite';\nimport qs from 'qs';\nimport {\n  connectSearchBox,\n  InstantSearch,\n  SearchBox,\n  Highlight,\n  ClearRefinements,\n  RefinementList,\n  InfiniteHits,\n  Menu,\n  RatingMenu,\n  NumericMenu,\n  ToggleRefinement,\n  PoweredBy,\n  Stats,\n  Configure,\n} from 'react-instantsearch-dom';\nimport PropTypes from 'prop-types';\nimport { createLocalStorageRecentSearchesPlugin } from '@algolia/autocomplete-plugin-recent-searches';\nimport { createQuerySuggestionsPlugin } from '@algolia/autocomplete-plugin-query-suggestions';\nimport './App.css';\nimport { Autocomplete } from './Autocomplete';\n\n  \nconst searchClient = algoliasearch(\n  'SH0NKE8PPD',\n  '679cf268e681d383f7f7e2e6483d7b24'\n);\n\n\nconst VirtualSearchBox = connectSearchBox(() => null);\n\nfunction createURL(searchState) {\n  return qs.stringify(searchState, { addQueryPrefix: true });\n}\n\nfunction searchStateToUrl({ location }, searchState) {\n  if (Object.keys(searchState).length === 0) {\n    return '';\n  }\n\n  return `${location.pathname}${createURL(searchState)}`;\n}\n\nfunction urlToSearchState({ search }) {\n  return qs.parse(search.slice(1));\n}\n\n\nfunction App() {\n\n    const [checkAutocomplete, setCheckAutocomplete] = useState(false);\n\n    const [searchState, setSearchState] = React.useState(() =>\n      urlToSearchState(window.location)\n    );\n    const timerRef = React.useRef(null);\n\n    React.useEffect(() => {\n      clearTimeout(timerRef.current);\n\n      timerRef.current = setTimeout(() => {\n        window.history.pushState(\n          searchState,\n          null,\n          searchStateToUrl({ location: window.location }, searchState)\n        );\n      }, 400);\n    }, [searchState]);\n\n\n    const onSubmit = React.useCallback(({ state }) => {\n      setSearchState((searchState) => ({\n        ...searchState,\n        query: state.query,\n      }));\n    }, []);\n\n    const onReset = React.useCallback(() => {\n      setSearchState((searchState) => ({\n        ...searchState,\n        query: '',\n      }));\n    }, []);\n\n    const plugins = React.useMemo(() => {\n      const recentSearchesPlugin = createLocalStorageRecentSearchesPlugin({\n        key: 'search',\n        limit: 3,\n        transformSource({ source }) {\n          return {\n            ...source,\n            onSelect({ item }) {\n              setSearchState((searchState) => ({\n                ...searchState,\n                query: item.label,\n              }));\n            },\n          };\n        },\n      });\n\n      \n      const querySuggestionsPlugin = createQuerySuggestionsPlugin({\n        searchClient,\n        indexName: 'clivingston_ecommerce_query_suggestions',\n        getSearchParams() {\n          return recentSearchesPlugin.data.getAlgoliaSearchParams({\n            hitsPerPage: 6,\n          });\n        },\n        transformSource({ source }) {\n          return {\n            ...source,\n            onSelect({ item }) {\n              setSearchState((searchState) => ({\n                ...searchState,\n                query: item.query,\n              }));\n            },\n          };\n        },\n      });\n\n      return [\n        recentSearchesPlugin,\n        querySuggestionsPlugin\n      ];\n    }, []);\n\n    return (\n      <div className=\"ais-InstantSearch\">\n        <header className=\"header\">\n          <a href=\"https://cmlivingston.github.io\"><img src=\"https://i.ibb.co/7YyS5tY/Full-Logo-Transparent-No-Buffer.png\" alt=\"Full-Logo-Transparent-No-Buffer\" border=\"0\" /></a>\n        </header>\n        \n        <InstantSearch\n          searchClient={searchClient}\n          indexName=\"clivingston_ecommerce\"\n          searchState={searchState}\n          onSearchStateChange={setSearchState}\n          createURL={createURL}\n        >\n          {/* Search Configuration */}\n          <VirtualSearchBox />\n          <Configure hitsPerPage={8} />\n\n        {/* Search filters */}\n          <div className=\"left-panel\">\n            <h3>Browse and filter</h3>\n            <ClearRefinements />\n            <h2>Category</h2>\n            <Menu attribute=\"categories\" showMore showMoreLimit={30}  />\n            <h2>Price</h2>\n            <NumericMenu\n              attribute=\"price\"\n              items={[\n                { label: 'Less than $10', end: 10 },\n                { label: '$10 - $100', start: 10, end: 100 },\n                { label: '$100 - $500', start: 100, end: 500 },\n                { label: 'Over $500', start: 500 },\n              ]}\n            />\n            <ToggleRefinement\n              attribute=\"free_shipping\"\n              label=\"Free Shipping\"\n              value={true}\n            />\n            <h2>Rating</h2>\n            <RatingMenu attribute=\"rating\" />\n            <h2>Brand</h2>\n            <RefinementList attribute=\"brand\" showMore showMoreLimit={30} />\n          </div>\n\n        {/* Search input and results */}\n          <div className=\"right-panel\">\n            { checkAutocomplete \n              ? \n              <Autocomplete\n                placeholder=\"Search Algobuy...\"\n                detachedMediaQuery=\"none\"\n                initialState={{\n                  query: searchState.query,\n                }}\n                openOnFocus={true}\n                onSubmit={onSubmit}\n                onReset={onReset}\n                plugins={plugins}\n              />\n              : \n              <SearchBox\n                className=\"ais-\" \n                searchAsYouType={true}\n                translations={{\n                  placeholder: 'Search Algobuy...',\n                }}\n              />      \n            }\n            \n            {/* Stats and autocomplete toggle */}\n            <div className=\"stats-and-switch-group\">\n              <div className=\"switch-group\">\n                Autocomplete&nbsp;\n                <label  class=\"switch\">\n                  <input onClick={() => setCheckAutocomplete((prevCheck) => !prevCheck)} type=\"checkbox\" />\n                  <span class=\"slider round\"></span>\n                </label>\n                </div>\n              <Stats />\n            </div>\n      \n            <InfiniteHits hitComponent={Hit} />\n            <PoweredBy />\n            <p className=\"made-with-love\">Made with <span>&hearts;</span> by <a href=\"https://www.linkedin.com/in/chris-livingston-7a6492123/\">Chris Livingston</a></p>\n          </div>\n        </InstantSearch>\n      </div>\n    );\n}\n\n\n\nfunction Hit(props) {\n  return (\n    <article>\n      <img className=\"hit-img\" src={props.hit.image} align=\"left\" alt={props.hit.name} />\n      <div className=\"hit-text-content\">\n        <h1 className=\"hit-name\">\n          <a href={props.hit.url}>\n            <Highlight attribute=\"name\" hit={props.hit} />\n          </a>\n        </h1>\n        <p className=\"hit-description\">\n          <Highlight attribute=\"description\" hit={props.hit} />\n        </p>\n        <p className=\"hit-price\">${props.hit.price}<span className=\"hit-shipping\">{props.hit.free_shipping ? \"Free Shipping!\": null}</span></p>\n        <p><strong>Brand: </strong>{props.hit.brand} - <span><strong>Categories: </strong>{props.hit.categories.join(\" | \")}</span></p>\n      </div>\n    </article>\n  );\n}\n\nHit.propTypes = {\n  hit: PropTypes.object.isRequired,\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}